<template>
  <div></div>
</template>

<script>
export default {
  name: 'animateWords',
  data () {
    return {
      a: [ "ğŸŒ¹ ğŸŒ¹ ğŸŒ¹ ğŸŒ¹ ğŸŒ¹", "ğŸŒ¸ ğŸŒ¸ ğŸŒ¸ ğŸŒ¸ ğŸŒ¸ ğŸŒ¸", "ğŸ˜ŠğŸ˜Š ğŸ˜Š ğŸ˜ŠğŸ˜Š", "ğŸŠğŸŠğŸŠğŸŠğŸŠ", "ğŸ ğŸ ğŸ ğŸ", "âœ¨ âœ¨ âœ¨ âœ¨", "ğŸ¦‰ ğŸ¦‰ ğŸ¦‰ ğŸ¦‰ ğŸ¦‰ ğŸ¦‰", "ğŸ”” ğŸ”” ğŸ”” ğŸ””", "â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸", "ğŸŒ ğŸŒ ğŸŒ ğŸŒ", "ğŸ‰ ğŸ‰ ğŸ‰ ğŸ‰", "ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„", 'ãƒ¾(Åâˆ€Åà¹‘)ï¾‰', 'â—”Ì¯â—”', '^O^', 'à¸…( Ì³â€¢ Îµ â€¢ Ì³)à¸…', '( Í¡Â° ÍœÊ– Í¡Â°)', 'Ê•â€¢Ì«Í¡â€¢Ê•*Ì«Í¡*Ê•â€¢Í“Í¡â€¢Ê”-Ì«Í¡-Ê•â€¢Ì«Í¡â€¢Ê”*Ì«Í¡*Ê”-Ì«Í¡-Ê”', 'à¸…( Ì³â€¢ â—¡ â€¢ Ì³)à¸…', '(â—ï½€ãƒ»Ï‰ãƒ»Â´)äºº(Â´ãƒ»Ï‰ãƒ»ï½€*)', 'äººç”Ÿè‹¥åªå¦‚åˆè§', 'ä½•äº‹ç§‹é£æ‚²ç”»æ‰‡', 'ç­‰é—²å˜å´æ•…äººå¿ƒ', 'å´é“æ•…äººå¿ƒæ˜“å˜', 'éªŠå±±è¯­ç½¢æ¸…å®µåŠ', 'æ³ªé›¨éœ–é“ƒç»ˆä¸æ€¨', 'ä½•å¦‚è–„å¹¸é”¦è¡£éƒ', 'æ¯”ç¿¼è¿æå½“æ—¥æ„¿' ],
      b: [ "#f37b1d", "#fbbd08", "#8dc63f", "#39b54a", "#1cbbb4", "#e03997", "#ef8ce2", "#989a55", "#bdbf78", "#efff51" ],
      c: [ "12", "14", "16", "18", "20", "22", "24", "26", "28", "30" ]
    }
  },
  mounted() {
    document.getElementById('app').addEventListener('click', this.handler)
  },
  methods: {
    handler: function (e) {
      var $i = document.createElement('span')
      $i.className = 'animate-words'
      var a_idx = parseInt(Math.random()* this.a.length), b_idx = parseInt(Math.random() * this.b.length), c_idx = parseInt(Math.random()* this.c.length)
      a_idx = (a_idx + 1) % this.a.length
      b_idx = (b_idx + 1) % this.b.length
      c_idx = (c_idx + 1) % this.c.length
      $i.innerHTML = this.a[a_idx]
      var x = e.pageX,
        y = e.pageY
      $i.style.cssText =
       `z-index: 9999;
        top: ${y - 20}px;
        left: ${x}px;
        position: absolute;
        font-weight: bold;
        font-size: ${this.c[c_idx]}px;
        color: ${this.b[b_idx]}`
      document.body.append($i);
      var animate = $i.animate([
        { "top": y - 180 + 'px', "opacity": 0 }
      ], {
        duration: 1500,
        iterations: 1
      });
      let _this = this
      animate.onfinish = function () {
        let s = document.querySelector('.animate-words')
        if($i.innerHTML === _this.a[a_idx]) {
          $i.innerHTML = ''
          document.body.removeChild(s)
        }
      }
    }
  },
  beforeDestroy() {
    document.getElementById('app').removeEventListener('click', this.handler)
  }
}
</script>
